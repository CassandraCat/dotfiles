"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{96054:(e,t,s)=>{s.d(t,{A:()=>f});var i=s(30758),a=s(54335),r=s(80741),n=s(49839),o=s(29330),c=s(17894),l=s(94819);const d="wedRUk4eiBo9n9vqXLhU",m="hMbtEskyvMbDiwq1EScA",u="HYVIJaYYiCTgSCHie70L",h="SPbe_Q1wtiZQCmo0QKUy",x="TRp4tgG7_cymGIXDevIP",g="tC1Y_nwyyly7cpIGqF5K",v="l93AfoV_qHnMQSQBB5GK",p="DgDBmSR2sbwji2UfqxIf",j="EkGb0ZzhswreSvpZoioY";var y=s(86070);const f=(0,i.memo)((e=>{const{uri:t,title:s,imageUrl:i,date:f,subTitle:N,firstParty:S,onClick:b}=e,_=f?(0,c.l4)(f):void 0;return(0,y.jsx)(o.N,{to:t,className:d,"data-testid":"concert-card",onClick:b,children:(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)(l.b,{children:(0,y.jsx)("div",{role:"img",className:j,style:{backgroundImage:`url(${i})`},children:!i&&(0,y.jsx)(a.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),_&&(0,y.jsxs)("time",{className:u,dateTime:f,children:[(0,y.jsx)(r.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(_)}),(0,y.jsx)(r.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(_)})]}),(0,y.jsxs)("div",{className:h,dir:"auto",children:[(0,y.jsx)(r.E,{as:"h2",variant:"bodyMedium",className:x,children:s}),(0,y.jsxs)("div",{className:g,children:[S&&(0,y.jsx)("span",{className:p,children:(0,y.jsx)(n.D,{size:"small"})}),(0,y.jsx)(r.E,{as:"span",className:v,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:N})]})]})]})})}))},57379:(e,t,s)=>{s.d(t,{bU:()=>n,he:()=>r,nm:()=>a});var i=s(42534);const a=(e,t)=>{if(!e)return"/concerts";const s=t?.normalize().replaceAll(/\W+/g,"-");return s?`/concerts/location/${e}-${s}`:`/concerts/location/${e}`};const r=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),n=e=>(0,i.x)(e,{representation:"date"})},80922:(e,t,s)=>{s.d(t,{o:()=>o});var i=s(36956),a=s(90503),r=s(89811);const n=e=>{const[t,{username:s,concertUri:i}]=e.queryKey;return(async(e,t)=>{const s=await(0,r.aw)(a.n.getInstance(),e,t);return s.body?.found[0]})(s,i)},o=e=>{const t=["concertInCollection",e];return(0,i.I)({queryKey:t,queryFn:n,retry:!1,enabled:!!e.username})}},35973:(e,t,s)=>{s.r(t),s.d(t,{default:()=>kt});var i=s(67803),a=s(80741),r=s(79051),n=s(57865),o=s(83042),c=s(25394),l=s(37827),d=s(17874),m=s(57837),u=s(95183),h=s(5318),x=s(65942),g=s(91396),v=s(76922),p=s(30758),j=s(90547),y=s(81581),f=s(68209),N=s(97241),S=s(29330),b=s(57379),_=s(54236),I=s(10505);const k="m8qhw073nx4vyHqaKQNk",C="ynP6muypg8KBMGNcHY5O",w="oDWtgFmvo78XypRSXSZE",R="XWKf1nJGSBaIxrSQhIft",E="nodWKfeO11pb9KDWwHMz",M="oFT4l9ImW_EmgL7n4Gpw";var D=s(86070);const T=(0,p.memo)((e=>{const{location:t,showTime:s,ageRestriction:i,htmlDescription:r,doorsOpenTime:n,spec:c}=e,l=(0,I.s)(),d=t.metroAreaLocation?(0,b.nm)(t.metroAreaLocation?.geonameId,t.metroAreaLocation?.fullName):null;return(0,D.jsxs)("div",{className:k,children:[r?.trim()&&(0,D.jsxs)("div",{className:C,children:[(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",className:w,children:o.Ru.get("artist.about")}),(0,D.jsx)(N.q,{html:r,onTimeStampClick:()=>{}})]}),(0,D.jsxs)("div",{className:C,children:[(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",className:w,children:o.Ru.get("tracklist.header.venue")}),(0,D.jsxs)("div",{className:M,children:[(0,D.jsx)(j.t,{className:R}),(0,D.jsxs)("div",{children:[(0,D.jsx)(a.E,{as:"h4",variant:"bodyMediumBold",className:E,children:t.name}),(0,D.jsx)(a.E,{as:"p",variant:"bodyMedium",children:(0,_.im)({...t,name:""})})]})]}),(0,D.jsxs)("div",{className:M,children:[(0,D.jsx)(y.p,{className:R}),(0,D.jsxs)("div",{children:[(0,D.jsxs)(a.E,{as:"h4",variant:"bodyMediumBold",className:E,children:[n&&o.Ru.get("concert.door_time",o.Ru.formatDate(n,{timeStyle:"short"})),n&&" • ",o.Ru.get("concert.show_time",o.Ru.formatDate(s,{timeStyle:"short"}))]}),i?.trim()&&(0,D.jsx)(a.E,{as:"p",variant:"bodyMedium",children:i})]})]}),d&&(0,D.jsxs)("div",{className:M,children:[(0,D.jsx)(f.T,{className:R}),(0,D.jsx)(S.N,{to:d,onClick:()=>(e=>{const t=c.concertLocationLinkFactory().hitUiNavigate({destination:e});l.logInteraction(t)})(d),children:(0,D.jsx)(a.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",t.metroAreaLocation?.fullName)})})]})]})]})}));var P=s(29189),U=s(66459),B=s(70830),A=s(47130),L=s(69401),K=s(77769),F=s(45818),q=s(60088),Z=s(34302);const V=p.memo((function({uri:e}){const{spec:t}=(0,Z.o)(e);return(0,D.jsx)(q.pZ,{value:"concert",children:(0,D.jsxs)(A.W,{children:[(0,D.jsx)(F.h,{children:(0,D.jsx)(L.m,{spec:t,uri:e,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,D.jsx)(K.q,{spec:t,uri:e})]})})}));var z=s(41978),Y=s(84567),H=s(27252),O=s(84254),W=s(2576),Q=s(80922),$=s(6421),X=s(28773),J=s(90503),G=s(89811),ee=s(50631);const te="JRuVlk6wpKk6ok7zuW6l",se="YpfopxY2udneDY34uzRN",ie="KI_0F1jtTR5tWgl7gZ1E",ae="gKtc3TdowDTXBaVESi1D",re="V8TIr8yJq4tYZfPEzm12",ne="rWFRSaU8daVvtbWEjvp7",oe="VvL91cIRcCi1hJh0K845",ce="LdW0YNvo_Y77hgqhL4zY",le="cTkykhjfHxkEGKbxSxXw",de="MaK8gvvxEqNafaMwXWWM",me="XgeTnLs82tTjczDR6oKn",ue="P3fE7wn6Tqnibn3gljKV",he="b3qjYcKXwrvfkQkOLMhZ",xe="A8LG_5Dvp7IiXDtdR571",ge="O0PSSw8ttrMn9lzq_L16",ve="D_ffrfn62aOgZKOFfZVr",pe="OH4mOZCual2ejIodzIkL",je="se_ixDV6hBf7lve861oU",ye="YDAJHPP5lDmg71SdvJZC",fe="lKQxSRsi8KcoYx5D7mjh",Ne="LUMel_X4gQK0J1i6X0sC",Se="eIA_y6wnyKS7F4BkMraV",be="CKbduoHBINBakBcguVzi",_e="oCmeNmHdfNzMD6n4mSqw",Ie="l6M4kfGer7xxBaIPco5p",ke="r5hQwOq0RGo1ptvIthJ0",Ce="HRKlEfCQE6VjdRRg0NRf",we="GWAqJBkan0flx0gBI92h",Re="YDoK0ksaHmDfScvMhW4l",Ee="ATEdvw7q5RVFqV_7k5xm",Me="UHICx5Pfx66QaNrl4qIZ",De="G3mQO0982j3xeMZSBLbU",Te=(0,p.memo)((e=>{const{concertUri:t,entitySpec:s}=e,i=(0,p.useMemo)((()=>s.interestedButtonFactory()),[s]),a=(0,ee.t)(i),r=(0,I.s)(),{enqueueSnackbar:c}=(0,$.d)(),l=(0,z.d4)(X.F6),{data:d,isLoading:m}=(0,Q.o)({username:l,concertUri:t}),[u,h]=(0,p.useState)(),x=void 0===u?d:u,g=(0,n.o_)(t);return(0,D.jsx)(W.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,D.jsx)(Y.n,{ref:a,size:"small",iconLeading:x?H.i:O.u,className:Ne,"aria-checked":x,disabled:m,onClick:()=>{if(!m)if(x){const e=i.hitRemoveInterest();e&&r.logInteraction(e),h(!1),c(o.Ru.get("concerts_removed-from-your-saved-events")),(0,G.Jr)(J.n.getInstance(),g.id)}else{const e=i.hitAddInterest();e&&r.logInteraction(e),h(!0),c(o.Ru.get("concerts_added-to-your-saved-events")),(0,G.m9)(J.n.getInstance(),g.id)}},children:o.Ru.get("concerts_interested")})})}));var Pe=s(23920),Ue=s(17894),Be=s(28512),Ae=s(43886),Le=s(92515),Ke=s(68325);const Fe=(0,p.memo)((e=>{const{concertUri:t,offer:s,position:i,spec:r,onRemindMe:n}=e,c=s.soldOut||(0,Ue.m7)(s.endDateIsoString),l="Spotify"===s.providerName,d=(0,Ue.PR)(s.startDateIsoString),m=d&&s.urlType===Ke.I2.TicketPage?void 0:s.url,u=(0,I.s)(),h=(0,Be.W)(),x=(0,p.useMemo)((()=>r.ticketProviderCellFactory({identifier:s.providerName,position:i,uri:s.url})),[r,s.providerName,i,s.url]),g=(0,ee.t)(x),v=(0,p.useMemo)((()=>{if(c)return(0,D.jsx)(a.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:ke,children:o.Ru.get("concerts.soldout")});if(d){const e=s.startDateIsoString&&new Date(s.startDateIsoString);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(a.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:_e,children:o.Ru.get("concerts.tickets_on_sale_soon")}),e&&(0,D.jsx)(a.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:we,children:o.Ru.get("concerts.ticket_date_time",(0,Ue.Y)(e),(0,Ue.WB)(e))})]})}if(s.urlType===Ke.I2.EventPage)return null;const e={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,D.jsxs)(D.Fragment,{children:[e[s.saleType]&&(0,D.jsx)(a.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:_e,children:e[s.saleType]}),l&&s.minPrice&&(0,D.jsx)(a.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:be,children:o.Ru.get("concerts.ticket_price",s.minPrice)})]})}),[c,d,s.urlType,s.saleType,s.minPrice,s.startDateIsoString,l]),j=(0,p.useMemo)((()=>c?null:(d&&(Pe.$,o.Ru.get("concerts.remind_me")),s.urlType===Ke.I2.EventPage?(0,D.jsx)(Pe.$,{className:Se,iconTrailing:Ae.p,size:"small",children:o.Ru.get("concerts.event.view")}):(0,D.jsx)(Pe.$,{className:Se,iconTrailing:Ae.p,size:"small",children:l?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")}))),[c,d,s.urlType,l,n]);return(0,D.jsxs)("a",{href:m,className:me,target:"_blank",ref:g,onClick:()=>{const e=x.hitNavigateToExternalUri({destination:s.url});e&&u.logInteraction(e),h({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,D.jsx)("div",{className:ue,children:(0,D.jsx)(Le._,{loading:"eager",src:s.providerImageUrl,height:"100%",width:"100%",className:he,children:(0,D.jsx)(f.T,{className:xe,size:"medium"})})}),(0,D.jsxs)("div",{className:ge,children:[(0,D.jsxs)("div",{dir:"auto",className:Ie,children:[v,(0,D.jsx)(a.E,{as:"p",semanticColor:"textSubdued",children:s.providerName})]}),j]})]})})),qe=(0,p.memo)((e=>{const{concertUri:t,offers:s,entitySpec:i}=e,r=(0,p.useMemo)((()=>i.ticketProviderListFactory()),[i]),n=(0,ee.t)(r),c=!!s.find((e=>e.urlType===Ke.I2.TicketPage));return(0,D.jsxs)(D.Fragment,{children:[c&&(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,D.jsx)("div",{ref:n,className:le,children:s.map(((e,s)=>(0,D.jsx)(Fe,{concertUri:t,offer:e,position:s,onRemindMe:()=>{},spec:r},e.url)))}),(0,D.jsx)(a.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:de,children:o.Ru.get("events_page.disclaimer")})]})}));var Ze=s(67673),Ve=s(58221);const ze=e=>{const{locationName:t,latitude:s,longitude:i,onClick:r}=e,n=new URL("https://maps.google.com/");return n.searchParams.set("q",t),s&&i&&n.searchParams.set("ll",`${s},${i}`),(0,D.jsx)("a",{href:n.href,target:"_blank",onClick:()=>r?.(n.href),children:(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",children:t})})},Ye=(0,p.memo)((e=>{if((0,Ze.NC)(Ve.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){const t=e.venue.data.uri;return(0,D.jsx)(S.N,{to:t,onClick:()=>e.onClick?.(t),children:(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}var t;return(0,D.jsx)(ze,{...e})}));var He=s(79596);const Oe=(0,p.memo)((e=>{const{concert:t,entitySpec:s}=e,i=(0,I.s)(),r=(0,He.V)(),n=(0,Ue.l4)(t.startDateIsoString);if((0,Ue.m7)(t.startDateIsoString))return(0,D.jsxs)("div",{className:ce,children:[(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,D.jsx)(a.E,{variant:"bodyMedium",children:(0,D.jsx)(S.N,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,D.jsxs)("div",{className:ce,children:[(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",className:Ce,children:(0,D.jsx)(Ye,{venue:t.venue,locationName:(0,_.im)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude})}),(0,D.jsx)(a.E,{as:"h3",variant:"bodySmall",className:ye,children:[(0,Ue.Y)(n),(0,Ue.WB)(n)].join(" • ")}),(0,D.jsxs)("div",{className:te,children:[!r&&(0,D.jsx)(Te,{concertUri:t.uri,entitySpec:s}),(0,D.jsx)(U.w,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=s.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&i.logInteraction(e)},className:Re,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,D.jsx)(B.b,{menu:(0,D.jsx)(V,{uri:t.uri}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();e&&i.logInteraction(e)},children:(0,D.jsx)(P.e,{size:"large"})})]}),(0,D.jsx)(qe,{concertUri:t.uri,offers:t.offers.items,entitySpec:s})]})}));var We=s(45107),Qe=s(17121),$e=s(87460),Xe=s(94819);const Je="Dry_NQGsDIHDZtrVXCkm",Ge="afT9IeZ3a3xSlKP0pSJH",et="cBs7zoipfqjsCHbDjY_p",tt="wDz6TsRKNxwV4mlO1EMX",st="tICcDjrC0CkSMO2fZZNy",it="uZhL8I5r7TVs9mrdSchW",at="B7ChxzxV0z17kJj9aZSD",rt=(0,p.memo)((e=>{const{imageUri:t,name:s,uri:i,headliner:r,onClick:n}=e,c=(0,D.jsxs)(S.N,{to:i,className:Ge,onClick:n,children:[t?(0,D.jsx)(Xe.b,{children:(0,D.jsx)("div",{"data-testid":"image-container",className:at,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,D.jsxs)("div",{className:et,children:[r&&(0,D.jsx)("div",{className:st,children:(0,D.jsx)(a.E,{as:"h4",variant:"bodySmallBold",className:it,children:o.Ru.get("concert.label.headliner")})}),(0,D.jsx)(a.E,{as:"h2",variant:"titleMedium",className:tt,children:s})]})]});return(0,D.jsx)("div",{className:Je,children:c})})),nt=rt;var ot=s(54320);const ct=(e,t)=>new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime(),lt=({artist:e,spec:t})=>{const s=(0,I.s)(),i=e.goods.events.concerts.items.filter((e=>e.nearUser)).sort(ct).shift(),a=i&&(e=>{const t=o.Ru.formatDate((0,Ue.l4)(e?.date.isoString),{day:"numeric",month:"short"});return e.venue.location?.name?`${t}, ${e.venue.location.name}`:t})(i),r=e.goods.events.userLocation?.name,n=`${e.uri}:concerts`;return(0,D.jsxs)("div",{className:Me,children:[i&&r&&(0,D.jsxs)("div",{className:De,children:[(0,D.jsx)(ot.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",r)}),(0,D.jsx)(S.N,{to:i.uri,onClick:()=>(e=>{const i=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});s.logInteraction(i)})(i.uri),children:(0,D.jsx)(ot.Z,{semanticColor:"textSubdued",children:a})})]}),(0,D.jsxs)("div",{className:De,children:[(0,D.jsx)(ot.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,D.jsx)(S.N,{to:n,onClick:()=>{const e=t.artistEventsLinkFactory({uri:n}).hitUiNavigate({destination:n});s.logInteraction(e)},children:(0,D.jsx)(ot.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",e.goods.events.concerts.totalCount)})})]})]})},dt=(0,p.memo)((e=>{const{artist:t,position:s,lineupSpec:i}=e,a=(0,p.useMemo)((()=>i.artistRowFactory({position:s,uri:t.uri})),[i,s,t.uri]),r=(0,I.s)(),n=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),c=t.discography.popularReleasesAlbums.items,l=t.visuals.avatarImage?.sources?.[0],d=(0,D.jsx)(nt,{uri:t.uri,name:t.profile.name,imageUri:l?.url,headliner:0===s,onClick:()=>{const e=a?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&r.logInteraction(e)}},t.uri),m=n.map(((e,t)=>{const s="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,D.jsx)(Qe.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:s},e.uri)})),u=c.map(((e,t)=>{const s=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,D.jsx)(We.a,{uri:e.uri,index:t,artists:s,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,D.jsxs)(q.pZ,{value:"headered-grid",index:s,children:[(0,D.jsx)($e.$,{title:0===s?o.Ru.get("concert.lineup"):"",total:2+m.length+u.length,seeAllUri:t.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:()=>{const e=a?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&r.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[d,null,...m,...u],className:Ee}),(0,D.jsx)(lt,{artist:t,spec:a})]},t.uri)})),mt=(0,p.memo)((e=>{const{artists:t,entitySpec:s}=e,i=(0,p.useMemo)((()=>s.lineupArtistsFactory()),[s]),a=(0,ee.t)(i);return(0,D.jsx)("div",{ref:a,className:ve,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const s=e.data;return[(0,D.jsx)(dt,{artist:s,position:t,lineupSpec:i},s.uri)]}))})}));var ut=s(96054);const ht="r4YSqQ00n2_0i2tWtlPj",xt="yEpakiIFqVrPYCcY_UcX",gt="TIxb8ebn0Jes35eTIcCQ",vt=(0,p.memo)((e=>(0,D.jsxs)(S.N,{to:"spotify:concerts",className:ht,onClick:e.onClick,children:[(0,D.jsx)(Xe.b,{children:(0,D.jsx)("div",{className:gt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,D.jsx)("div",{className:xt,children:(0,D.jsx)(a.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]}))),pt=(0,p.memo)((e=>{const{concert:t,position:s,recommendedSpec:i}=e,a=(0,I.s)(),r=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),n=r.map((e=>e.profile.name)),o=(0,_.tI)(t.title,t.festival,n)?t.title:(0,_.Ac)(n),c=r[0]?.visuals.avatarImage?.sources[0];return(0,D.jsx)(ut.A,{uri:t.uri,title:o,date:t.startDateIsoString,subTitle:(0,_.im)(t.location),imageUrl:c?.url,firstParty:t.firstParty,onClick:()=>{const e=i?.concertCardFactory({position:s,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&a.logInteraction(e)}})})),jt=(0,p.memo)((e=>{const{relatedConcerts:t,entitySpec:s}=e,i=(0,p.useMemo)((()=>s.recommendedConcertsFactory()),[s]),a=(0,I.s)(),r=(0,ee.t)(i),n=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===n.length)return null;return(0,D.jsx)("div",{ref:r,className:je,"data-testid":"concert-recommendations",children:(0,D.jsx)(q.pZ,{value:"headered-grid",children:(0,D.jsxs)($e.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:fe,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),withEncoreCards:!1,children:[(0,D.jsx)(vt,{onClick:()=>{const e=i?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&a.logInteraction(e)}},"browse"),n.map(((e,t)=>(0,D.jsx)(pt,{position:t,concert:e,recommendedSpec:i},e.uri)))]})})})}));var yt=s(49912),ft=s(63203);const Nt=new yt.l("concert","query","dce8702b279096ce9218ea6ea9351535728a53807c2e8e5b48527e216a664227",null);var St=s(64011),bt=s(98561),_t=s(9525);const It=e=>{const{concert:t}=e,{spec:s}=(0,_t.r)(r.b,{data:{identifier:(0,n.o_)(t.uri)?.id,uri:t.uri}}),i=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),o=i[0].visuals.headerImage;(0,St.z)(o?.extractedColors?.colorDark.hex);const v=i.map((e=>e.profile.name)),p=(0,_.tI)(t.title,t.festival,v)?t.title:(0,_.re)(v),j=(0,Ue.l4)(t.startDateIsoString);return(0,D.jsxs)("section",{className:re,children:[(0,D.jsx)(l.Q,{children:(0,bt.K9)(t.title,t.location.city,t.location.name)}),(0,D.jsxs)(m.z,{backgroundImages:o?.sources,children:[(0,D.jsxs)(u.Y,{children:[(0,D.jsx)(d.Z,{children:(0,D.jsx)("div",{className:se,children:(0,D.jsx)(a.E,{as:"h3",variant:"titleSmall",className:ie,children:(0,Ue.Fn)(j)})})}),(0,D.jsx)(g.mm,{className:ne,children:p})]}),(0,D.jsx)(h.h,{children:(0,D.jsx)("div",{className:pe,children:(0,D.jsx)(x.X,{text:p})})})]}),(0,D.jsxs)("div",{className:ae,children:[(0,D.jsx)(c.K,{backgroundColor:o?.extractedColors?.colorDark.hex}),(0,D.jsxs)("div",{className:oe,children:[(0,D.jsx)(Oe,{concert:t,entitySpec:s}),(0,D.jsx)(mt,{artists:t.artists.items,entitySpec:s}),(0,D.jsx)(T,{location:t.location,showTime:j,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,Ue.l4)(t.doorsOpenTimeIsoString):null,spec:s}),(0,D.jsx)(jt,{relatedConcerts:t.relatedConcerts,entitySpec:s})]})]})]})},kt=()=>{const{concertId:e}=(0,i.g)(),t=`spotify:concert:${e}`,{loading:s,error:a,data:r}=(n={uri:t},(0,ft.I)(Nt,n,c));var n,c;return s?(0,D.jsx)(v.A,{hasError:!1,errorMessage:""}):a||"ConcertV2"!==r?.concert.__typename?(0,D.jsx)(v.A,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,D.jsx)(It,{concert:r.concert})}},89811:(e,t,s)=>{s.d(t,{Jr:()=>r,aw:()=>n,m9:()=>a,oF:()=>o});var i=s(75975);const a=(e,t)=>e.build().withMethod("POST").withHost(i.tc).withPath(`/v2/concerts/saved/${t}`).withEndpointIdentifier("/concerts/saved/{concertId}").withoutMarket().send(),r=(e,t)=>e.build().withMethod("DELETE").withHost(i.tc).withPath(`/v2/concerts/saved/${t}`).withEndpointIdentifier("/concerts/saved/{concertId}").withoutMarket().send(),n=(e,t,s)=>e.build().withMethod("POST").withHost(i.Og).withPath("/v2/contains").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withBody(JSON.stringify({username:t,set:"concerts",items:[{uri:s}]})).send();function o(e){return e.build().withHost(i.tc).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send()}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map