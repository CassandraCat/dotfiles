"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{21643:(e,i,s)=>{s.d(i,{u:()=>x});var t=s(97500),a=s.n(t),r=s(8159),l=s(45688),n=s(84576),c=s(28512),d=s(25331),o=s(10505),u=s(99506),m=s(86070);const x=({uri:e,src:i,playAriaLabel:s,onClick:t,isPlaying:x,isActive:h,isLocked:j,isEpisode:p,isVideo:y,spec:g})=>{const f=(0,c.W)(),k=(0,o.s)(),v=(0,r.YQ)((i=>{let s;if(f({type:"click",intent:x?"pause":"play"}),g){const i=g.playbackButtonFactory();let t;t=h&&x?i.hitPause({itemToBePaused:e}):h&&!x?i.hitResume({itemToBeResumed:e}):i.hitPlay({itemToBePlayed:e}),s=k.logInteraction(t)}t(i,s)}),d.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(n.e,{src:i,isEpisode:p,isVideo:y}),(0,m.jsx)(l.x,{className:a()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:v,isPlaying:x,isLocked:j,playAriaLabel:s})]})}},82048:(e,i,s)=>{s.d(i,{U:()=>L});var t=s(83042),a=s(30758),r=s(97500),l=s.n(r),n=s(67803),c=s(80741),d=s(49531),o=s(99452),u=s(36771),m=s(73380),x=s(47130),h=s(29640);const j="main-topBar-contentArea",p="queue-tabBar-headerIsCentered",y="queue-tabBar-headerItem",g="queue-tabBar-moreButton",f="queue-tabBar-moreButtonActive",k="yxf_6IsQEmHjijEBUMTP",v="queue-tabBar-active",b="queue-tabBar-headerItemLink",P="queue-tabBar-header",E="queue-tabBar-chevron";var R=s(86070);const I=({items:e,activeItemId:i})=>(0,R.jsx)(x.W,{children:e.map((e=>e.disabled?(0,R.jsx)(h.D,{disabled:!0,role:"menuitemradio",className:k,onClick:e.handleClick,children:e.title},e.uri):(0,R.jsx)(h.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>l()(k,{[v]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var w=s(8159),A=s(30603),C=s(57770);const N=(0,a.memo)((function({isCentered:e,links:i,landmarkLabel:s,className:r}){const x=(0,a.useRef)(null),[h,k]=(0,a.useState)([]),[N,T]=(0,a.useState)(0),[S,U]=(0,a.useState)([]),B=function(){const[e,i]=(0,a.useState)(window.innerWidth),{scrollNodeChildRef:s}=(0,a.useContext)(A.bi),t=(0,w.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,C.w)({refOrElement:s,observeOnly:"width",onResize:t}),e}()??1/0,{pathname:L}=(0,n.zy)(),O=i.find((e=>e.to===L));return(0,a.useEffect)((()=>{x.current&&T(x.current.clientWidth)}),[B]),(0,a.useEffect)((()=>{if(!x.current)return;const e=Array.from(x.current.children).map((e=>e.clientWidth));k(e)}),[i]),(0,a.useEffect)((()=>{if(!x.current)return;if(h.slice(0,-1).reduce(((e,i)=>e+i),0)<=N)return void U([]);const e=h.reduce(((e,i)=>e>i?e:i),0),i=[];let s=e;h.forEach(((e,t)=>{N>=s+e?s+=e:i.push(t)})),U(i)}),[N,h]),(0,R.jsx)("nav",{className:l()(r,j),"aria-label":s,children:(0,R.jsxs)("ul",{className:e?p:P,ref:x,children:[i.filter(((e,i)=>!S.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,R.jsx)(a.Fragment,{children:i((0,R.jsx)("li",{className:y,children:e.disabled?(0,R.jsx)("div",{className:b,children:(0,R.jsx)(c.E,{variant:"bodySmallBold",children:e.title})}):(0,R.jsx)(m.k,{end:!0,className:({isActive:e})=>l()(b,{[v]:e}),to:e.to,onClick:e.handleClick,children:(0,R.jsx)(c.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),S.length||0===h.length?(0,R.jsx)("li",{className:y,children:(0,R.jsx)(u.t,{renderInline:!0,menu:(0,R.jsx)(I,{items:i.filter(((e,i)=>S.includes(i))),activeItemId:O?.itemId}),children:(e,i,s)=>(0,R.jsxs)("button",{className:l()(g,{[f]:O}),type:"button",onClick:i,ref:s,children:[(0,R.jsx)(c.E,{variant:"bodySmallBold",children:O?O.title:t.Ru.get("more")}),e?(0,R.jsx)(d.J,{size:"small",className:E,"aria-hidden":"true"}):(0,R.jsx)(o.y,{size:"small",className:E,"aria-hidden":"true"})]})})}):null]})})}));var T=s(56625);const S="XfifUos51Clgs5a6nf2m",U=()=>{const e=[{title:t.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue"},{title:t.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}];return(0,R.jsx)(T.g,{children:(0,R.jsx)(N,{className:S,links:e})})};var B=s(15567);const L=({children:e})=>{const i=(0,B.y)();return(0,R.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,R.jsx)(U,{})]})}},98766:(e,i,s)=>{s.r(i),s.d(i,{default:()=>ae});var t=s(95425),a=s(80741),r=s(83042),l=s(92067),n=s(30758),c=s(91363),d=s(5153),o=s(53122),u=s(57865),m=s(48126),x=s(91744),h=s(94661),j=s(9688),p=s(4491),y=s(80319),g=s(2153),f=s(57035),k=s(93487),v=s(21643),b=s(39921),P=s(23203),E=s(46335),R=s(37143),I=s(48559),w=s(76931),A=s(43229),C=s(80238),N=s(73679),T=s(9321),S=s(96381),U=s(28008),B=s(87267),L=s(60088),O=s(64618),_=s(57420),M=s(38611),D=s(25030),G=s(99506),q=s(86070);const F=n.memo((function({uri:e,name:i,duration_ms:s,index:t,imgUrl:a,artists:l,album:n,isExplicit:c,isMOGEFRestricted:d,contextItem:o,type:F}){const{isActive:H,isPlaying:K,triggerPlay:Q,togglePlay:W}=(0,_.P)({uri:e,pages:[{items:[{...o}]}]},{featureIdentifier:"history"}),z=F===M.c.TRACK,J=F===M.c.EPISODE,V=F===M.c.CHAPTER,Y=(0,O.T)(e),$=(0,T.g)(e,!0,(0,u.Pk)(e),!1,l.map((e=>e.uri))),{badges:X,hasBadges:Z}=(0,D.b)({downloadAvailability:Y,isExplicit:c,isMOGEFRestricted:d}),ee=l?.map((e=>e.name)).join(r.Ru.getSeparator())||"";let ie;return J?ie=(0,q.jsx)(h.b,{uri:e,contextUri:e,showUri:n.uri}):V?ie=(0,q.jsx)(x.r,{uri:e}):z&&(0,u.Pk)(e)?ie=(0,q.jsx)(j.A,{uri:e,contextUri:e}):z&&(ie=(0,q.jsx)(p.P,{uri:e,contextUri:e,albumUri:n.uri,artists:l})),(0,q.jsx)(L.pZ,{value:"row",index:t,children:(0,q.jsx)(m.h,{menu:ie,children:(0,q.jsxs)(C.w,{uri:e,contextUri:e,index:t,ariaRowIndex:t,onTriggerPlay:()=>{Q()},isActive:H,isPlayable:$,ageRestricted:d,dragMetadata:{name:i,createdBy:ee},children:[(0,q.jsxs)(R.U,{ariaColIndex:0,children:[(0,q.jsx)(v.u,{uri:e,src:a,isPlaying:K,isActive:H,isLocked:!1,onClick:()=>{W()},isEpisode:(0,u.gH)(e),playAriaLabel:r.Ru.get("tracklist.a11y.play",i,ee)}),(0,q.jsxs)(b.l,{children:[(0,q.jsx)(A.p,{titleText:i,children:i}),Z&&(0,q.jsxs)(f.P,{children:[X.download&&(0,q.jsx)(S._,{}),X.explicit&&(0,q.jsx)(U.g,{}),X.nineteen&&(0,q.jsx)(B.q,{className:G.A.nineteen,size:16})]}),(0,q.jsx)(w.p,{children:(0,u.U_)(e)?(0,q.jsx)(g.l,{artists:l}):l[0]?.name??""})]})]}),(0,q.jsx)(I.o,{ariaColIndex:2,children:(0,q.jsx)(y.g,{nonInteractive:(0,u.Pk)(e),uri:n.uri,name:n.name,creatorUri:l?.[0]?.uri,children:n.name})}),(0,q.jsxs)(E.l,{ariaColIndex:1,children:[!V&&(0,q.jsx)(N.d,{uri:e,type:F}),(0,q.jsx)(k.P,{duration:s}),(0,q.jsx)(P.Y,{menu:ie,label:r.Ru.get("more.label.track",i,ee)})]})]})})})}),((e,i)=>e.uri===i.uri));var H=s(17732),K=s(90865),Q=s(69091),W=s(85907),z=s(86581),J=s(58565),V=s(98315),Y=s(73664);const $=n.memo((function({items:e}){const i=(0,n.useCallback)(((e,i)=>{const s=(0,Y.g)(e.images??[],{desiredSize:40});return(0,z.v)(e)?(0,q.jsx)(F,{index:i,uri:e.isLocal?e.uri:(0,H.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:M.c.TRACK},i+e.uri):(0,W.p)(e)?(0,q.jsx)(F,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:M.c.EPISODE},i+e.uri):(0,Q.d)(e)?(0,q.jsx)(F,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:s?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:M.c.CHAPTER},i+e.uri):((0,K.N)(e)||(0,J.v)(e)||(0,V.k)(e),(0,q.jsx)(c.qq,{height:`${d.FL}px`}))}),[]),s=(0,n.useMemo)((()=>[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]),[]),t=(0,n.useCallback)((e=>({uri:e.uri})),[]);return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(L.pZ,{value:"play-history-tracklist",children:(0,q.jsx)(d.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:s,renderRow:i,resolveItem:t,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var X=s(73957);const Z="j0idwRGPXbi0ampiGHUF",ee="V6Kms48prL8QhkQxTJ2d",ie=()=>{const{isLoading:e,data:i}=(0,X.a)();return e?null:i?.items.length?(0,q.jsxs)("div",{className:Z,children:[(0,q.jsx)(a.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ee,children:r.Ru.get("view.recently-played")}),(0,q.jsx)($,{items:i.items})]}):(0,q.jsx)(l.H,{})};var se=s(82048),te=s(15567);const ae=()=>(0,te.y)()?(0,q.jsx)(se.U,{children:(0,q.jsx)(ie,{})}):(0,q.jsx)(t.$,{to:"/"})},17732:(e,i,s)=>{s.d(i,{a:()=>t});const t=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map