"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8546,2609,6991],{66601:(e,t,a)=>{a.d(t,{U:()=>d});var i=a(83042),n=a(29189),s=a(70830),r=a(86070);const d=({menu:e,onClick:t,"aria-label":a})=>(0,r.jsx)(s.b,{menu:e,children:(0,r.jsx)(n.e,{size:n.M.xs,label:i.Ru.get("more"),ariaLabel:a,onClick:t})})},56345:(e,t,a)=>{a.d(t,{I:()=>l});var i=a(30758),n=a(40829),s=a(80741),r=a(57865),d=a(29330),c=a(56288),o=a(86070);const l=({uri:e,title:t,clickUrl:a,onClick:l,variant:u,semanticColor:m,testid:x="ad-link"})=>{const v=(0,i.useMemo)((()=>(0,r.o_)(a)?.toURLPath(!0)),[a]);let j;return v?j=(0,o.jsx)(d.N,{to:v,dir:"auto","data-testid":x,children:t}):a&&(j=(0,o.jsx)(n.Y,{href:a,"data-testid":x,onClick:l,semanticColor:m,standalone:!0,dir:"auto",children:t})),(0,o.jsx)(c.r,{title:t,children:(0,o.jsx)(s.E,{as:"p",variant:u,semanticColor:m,dir:"auto",children:j||t})},e)}},38546:(e,t,a)=>{a.r(t),a.d(t,{AdsNpv:()=>Ye,default:()=>Ke});var i=a(67673),n=a(12556),s=a(59695),r=a(80741),d=a(83042),c=a(56288);const o={standardHeader:"OnnbOInFe49hYMQmhwUC",fixedHeader:"XZaBo7y3JfnBbjVV9TZo",verticalVideoHeader:"UP1rH6cQZiAZCdkPnDOg"};var l=a(86070);const u=({item:e,variant:t="bodyMediumBold",semanticColor:a="textBase",experience:i="standard"})=>{const n=o[`${i}Header`],s=e.isPodcastAd?d.Ru.get("ad-formats.npv.header.podcast-context"):d.Ru.get("ad-formats.npv.header.music-context");return(0,l.jsx)("div",{className:n,children:(0,l.jsx)(c.r,{children:(0,l.jsx)(r.E,{variant:t,semanticColor:a,children:s})},s)})};var m=a(92515);const x="UhO5sUnZ2AoTQjzRdVvw",v=({url:e})=>(0,l.jsx)("div",{className:x,children:(0,l.jsx)(m._,{testid:"cover-art-image",loading:"lazy",src:e})}),j=({item:e,visualEnhancementUrl:t})=>(0,l.jsx)(v,{item:e,url:t}),h=e=>(0,l.jsx)(l.Fragment,{}),p="pvAyLo3KN8QP7KxQtiub",f="r4EqB8Z5_aywMW_8I84P",g=e=>{const{item:t}=e,a=t?.metadata?.["ad.canvas.type"];return"video"===a?(0,l.jsx)(h,{...e}):(0,l.jsx)(j,{...e})},b=e=>(0,l.jsxs)("div",{className:p,children:[(0,l.jsx)("div",{className:f}),(0,l.jsx)(g,{...e})]});var y=a(66601),C=a(88789),N=a(799);const _="iDW7b6oChePRpgfDFY3U",I=({item:e})=>(0,l.jsxs)("div",{className:_,children:[(0,l.jsx)(N.T,{item:e}),(0,l.jsx)(C.t,{item:e})]});var k=a(92609),A=a(46991);const T="JiMklw0itqYJ1aE76Vi8",U=({item:e})=>(0,l.jsxs)("div",{className:T,children:[(0,l.jsx)(A.ContextAdTitle,{item:e,surface:"AD_NPV"}),(0,l.jsx)(k.ContextAdSubtitle,{item:e,surface:"AD_NPV"})]});var E=a(84224),M=a(10960),V=a(24364),P=a(26051);function q(){const e=(0,P.vh)();return{linkUbiEvent:function({adId:t,ubiEventId:a,product:i,format:n,requestId:s}){e.send((0,V.A)({ad_id:t,ad_request_id:s,ad_format:n,content_type:i,ubi_event_id:a}))}}}var D=a(30758),R=a(47130),B=a(29640),F=a(41978),z=a(81581),S=a(53245),w=a(32965),O=a(60088),Z=a(10505);const H=({item:e,spec:t,contextTrack:a})=>{const i=(0,F.wA)(),n=(0,Z.s)(),{linkUbiEvent:s}=q(),r=`${(0,E.Mj)(a)}_${(0,E.q5)(a)}`;return(0,l.jsx)(B.D,{role:"menuitem",testid:"about-this-ad-context-menu-item",leadingIcon:(0,l.jsx)(z.p,{size:"small"}),"aria-label":d.Ru.get("ad-formats.dsa.aboutThisAd"),onClick:()=>{i((0,w.Oc)()),i((0,S.b0)(e));const d=t.contextMenuFactory({identifier:e.metadata?.lineitem_id,reason:r}).triggerDsaFactory().hitUiNavigate({destination:"/context_menu"}),{interactionId:c}=n.logInteraction(d);s({adId:e.adId,requestId:e.requestId,ubiEventId:c,format:(0,E.Mj)(a),product:(0,E.q5)(a)})},divider:"before",children:d.Ru.get("ad-formats.dsa.aboutThisAd")})},L=(0,D.memo)((function(e){return(0,l.jsx)(O.pZ,{value:"about-this-ad",children:(0,l.jsx)(H,{...e})})})),Q=(0,D.memo)((function({item:e,spec:t,contextTrack:a}){const i=(0,Z.s)(),{linkUbiEvent:n}=q(),s=`${(0,E.Mj)(a)}_${(0,E.q5)(a)}`;return(0,D.useEffect)((()=>{(()=>{const r=i.logImpression(t.contextMenuFactory({identifier:e.metadata?.lineitem_id,reason:s}).impression());n({adId:e.adId,requestId:e.requestId,format:(0,E.Mj)(a),product:(0,E.q5)(a),ubiEventId:r})})()}),[]),(0,l.jsx)(O.pZ,{value:"ad",children:(0,l.jsxs)(R.W,{children:[(0,l.jsx)(O.pZ,{value:"ad-title",children:(0,l.jsx)(B.D,{role:"menuitem",testid:"ad-title-context-menu-item",divider:"after",disabled:!0,children:e.metadata.advertiser})}),(0,l.jsx)(L,{item:e,spec:t,contextTrack:a})]})})}));var J=a(58221);const W="NYcvpWpgvQYZploOD6rI",Y="OpXrpghZvv_w9ygosJFP",K=({item:e,spec:t})=>{const a=(0,i.NC)(J.SeK,{loadingValue:!1}),n=(0,M.mr)(),s=(0,Z.s)(),{linkUbiEvent:r}=q(),d=`${(0,E.Mj)(e)}_${(0,E.q5)(e)}`;return(0,l.jsxs)("div",{className:W,children:[(0,l.jsx)(U,{item:e}),(0,l.jsxs)("div",{className:Y,children:[(0,l.jsx)(I,{item:e}),a&&n?.isDsaEligible&&(0,l.jsx)("div",{"data-testid":"PanelHeader_AdContextMenuButton",children:(0,l.jsx)(y.U,{menu:(0,l.jsx)(Q,{item:n,contextTrack:e,spec:t}),onClick:()=>{if(n){const a=t.infoContainerFactory().contextMenuButtonFactory({identifier:n.metadata?.lineitem_id,reason:d}).hitUiNavigate({destination:"/context_menu"}),{interactionId:i}=s.logInteraction(a);r({adId:n.adId,requestId:n.requestId,format:(0,E.Mj)(e),product:(0,E.q5)(e),ubiEventId:i})}}})})]})]})};var $=a(94668);const X=({item:e,context:t,index:a})=>t?(0,l.jsx)($.h,{context:t,item:e,index:a}):null,G="tD84X2SD0IicMx3osK8a",ee=({item:e,spec:t,currentPanel:a,canvasVisualEnhancementUrl:i})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{item:e,visualEnhancementUrl:i,currentPanel:a,spec:t}),(0,l.jsx)("div",{className:G,children:(0,l.jsx)(K,{item:e,currentPanel:a,spec:t})})]}),te=({item:e,spec:t,context:a,index:i,currentPanel:n})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(X,{item:e,context:a,index:i}),(0,l.jsx)(K,{item:e,currentPanel:n,spec:t})]}),ae=e=>{const{item:t}=e,a=(0,i.NC)(J.Qdk,{loadingValue:!1}),n=t?.metadata?.["ad.canvas.type"],s="image"===n||"video"===n,r=t.metadata?.["ad.canvas.url"];return!!(a&&s&&"image"===n&&r)?(0,l.jsx)(ee,{...e,canvasVisualEnhancementUrl:r}):(0,l.jsx)(te,{...e})};var ie=a(97500),ne=a.n(ie),se=a(27790),re=a(69837),de=a(49730),ce=a(61143),oe=a(89107),le=a(94788),ue=a(47463),me=a(29330);const xe="mJucukPuB6OTWgaD4MZk",ve="i3o8ABclZov7rz8zzKYP",je=(0,D.lazy)((()=>a.e(3013).then(a.bind(a,93013)))),he=({item:e,backgroundColor:t,className:a})=>{const i=(0,F.wA)(),{url:n,buttonMessage:s,tagline:r}=(0,E.iz)(e),c=s||d.Ru.get("ad-formats.learnMore");if(!n)return null;const o=ne()(xe,a),u=(0,oe.H)(n);return(0,l.jsx)(me.N,{to:u,"data-testid":"ad-companion-card",className:o,onClick:()=>{i((0,ue.q5)(le.c.COMPANION_CARD,le.V.AD_NPV))},children:(0,l.jsx)(se.v,{style:{backgroundColor:t},className:ve,onClickHint:d.Ru.get("ad-formats.learnMore"),variant:"tinted",horizontalGap:(0,re.po)("looser"),id:e.uri,title:(0,l.jsx)(de.d,{variant:"mestoBold","data-testid":"ad-companion-card-tagline",children:r||c}),trailing:(0,l.jsx)(D.Suspense,{fallback:(0,l.jsx)(ce.V,{}),children:r?(0,l.jsx)(je,{text:c,clickUrl:u,onClick:()=>{i((0,ue.q5)(le.c.CTA_BUTTON,le.V.AD_NPV))}}):(0,l.jsx)(ce.V,{semanticColor:"textBase"})})})})};var pe=a(72631),fe=a(81218),ge=a(96835),be=a(44142),ye=a(33703),Ce=a(75441),Ne=a(23920);const _e="zr0dLusU4AgiRoEVZVx_",Ie="aDISd8UFo3WaHvR_MBbQ",ke="FQKI6EvRALxogOFyociA",Ae=({data:e})=>{const t=t=>{const a={id:e.id,"aria-label":`Select ${t.primaryText}`};return e.surveyQuestionType===pe.xV.MULTI_SELECT?(0,l.jsx)(be.c,{...a}):(0,l.jsx)(ye.M,{...a})};return(0,l.jsxs)(Ce.g,{labelFor:e.id,withFieldset:!0,className:_e,children:[(0,l.jsx)("div",{className:Ie,children:e.surveyQuestionOptions.map((e=>(0,l.jsx)(se.v,{className:ke,id:e.id,variant:"elevated",title:e.primaryText,leading:t(e)},e.id)))}),(0,l.jsx)(Ne.$,{disabled:!0,size:"medium",fullWidth:!0,colorSet:"invertedLight",label:"Submit",children:d.Ru.get("ad-formats.survey-submit-button")})]})},Te="adTDAM0k8x2cVUF3gh29",Ue="Hsk_MEaCGP5naarBa1cW",Ee=({question:e})=>(0,l.jsxs)(ge.a,{className:Te,padding:"looser",children:[(0,l.jsx)(r.E,{as:"h1",variant:"titleSmall",paddingBottom:"tighter-2",className:Ue,children:e.primaryText}),(0,l.jsx)(r.E,{paddingBottom:"base",as:"p",semanticColor:"textSubdued",variant:"bodySmall",children:e.secondaryText}),(0,l.jsx)(Ae,{data:e})]}),Me=({surveyAd:e})=>{const t=(0,D.useMemo)((()=>e?.companions.find((e=>e.survey))?.survey),[e]);return t?(0,l.jsx)(Ee,{question:t?.surveyQuestions[0]}):null},Ve=({item:e})=>{const t=(0,i.NC)(J.o4S,{loadingValue:!1}),a=(0,P.vh)(),n=(0,M.mr)(),s=n?.requestId,r=n?.metadata;return(0,D.useEffect)((()=>{if(!t&&s){const{slot:t,format:i}=n;a.send((0,fe.A)({event:"event_errored",event_reason:"survey-ad-feature-disabled",ad_id:e.id,request_id:s,creative_id:r?.creative_id,lineitem_id:r?.lineitem_id,slot:t,format:(0,pe.gh)(i),product_name:r?.product_name}))}}),[e,a,s,t,r,n]),n?(0,l.jsxs)("div",{children:[(0,l.jsx)(Me,{surveyAd:n}),(0,l.jsx)(U,{item:e})]}):null},Pe=e=>{const t=(0,F.d4)((e=>e.ads?.vto));return"audio"===e?.mediaType||!t?.isMinimized};var qe=a(80954);const De="M7UVXKPsARIM71fmtSUG",Re="HKhLNVB5OsH5osqax9lk",Be="i_7T75rV7Rj7AyykwrCf",Fe="na5oNvZD9KtuYIUiIUZg",ze="_7QFCuyjgT6BwUe1JJVL",Se="g1fyNwi0G98CTbv9v4We",we=({item:e,context:t,index:a,currentPanel:i,spec:n})=>{const s=Pe(e),r="portrait"===e.videoOrientation,d=r&&!s?De:"",c=ne()(ze,{[Se]:r}),o=ne()({[Fe]:r});return(0,l.jsxs)("div",{className:c,children:[s?(0,l.jsx)(X,{item:e,context:t,index:a}):(0,l.jsxs)("div",{className:Be,children:[r&&(0,l.jsx)("div",{className:Re}),(0,l.jsx)("div",{className:o,children:(0,l.jsx)(qe.F,{})})]}),(0,l.jsx)("div",{className:d,children:(0,l.jsx)(K,{item:e,currentPanel:i,spec:n})})]})};var Oe=a(69122),Ze=a(98852);var He=a(9525);const Le="nONhpa6k5EMxHTR1RXhM",Qe="cp7_8T7Q27pZ5zYXUFOW",Je="IVGg8Hz4Py4BaPEyJz0T",We="tUurYuAJ2ZftcyLRFJ9z",Ye=({item:e,context:t,index:a,currentPanel:r})=>{const{logoImage:d}=(0,E.iz)(e),c=Pe(e),o=e?.metadata?.["ad.canvas.type"],m="image"===o||"video"===o,x="portrait"===e.videoOrientation&&!c,{spec:v,UBIFragment:j}=(0,He.r)(n.m,{}),h=((e=null,t=0,a=Oe.CpN)=>{const[i,n]=(0,D.useState)(a),s=(0,Ze.z)(e,a,"colorDark");return(0,D.useEffect)((()=>{setTimeout((()=>{n(s)}),t)}),[t,s]),i})((0,s.Df)(e)?d:e?.images[0].url||d,600),p=(0,i.NC)(J.gLA,{loadingValue:!1}),f=x?"verticalVideo":m?"fixed":"standard",g=(e=>{const t=e?.metadata?.["ad.companion.type"];return"survey"===t?"survey":(0,s.Df)(e)?"video":"audio"})(e);return(0,l.jsx)("div",{className:Le,children:(0,l.jsx)(j,{spec:v,children:(0,l.jsxs)("div",{className:Qe,children:[(0,l.jsxs)("div",{className:Je,children:[(0,l.jsx)(u,{item:e,experience:f}),(()=>{switch(g){case"video":return(0,l.jsx)(we,{item:e,spec:v,index:a,currentPanel:r,context:t});case"survey":return(0,l.jsx)(Ve,{item:e});default:return(0,l.jsx)(ae,{item:e,context:t,index:a,currentPanel:r,spec:v})}})()]}),"survey"!==g?(0,l.jsx)(he,{item:e,className:We,...p&&{backgroundColor:h}}):null]})})})},Ke=Ye},92609:(e,t,a)=>{a.r(t),a.d(t,{ContextAdSubtitle:()=>o,default:()=>l});var i=a(41978),n=a(56345),s=a(84224),r=a(94788),d=a(47463),c=a(86070);const o=({item:e,variant:t="bodyMedium",semanticColor:a="textSubdued",surface:o})=>{const{subtitle:l,url:u}=(0,s.iz)(e),m=(0,i.wA)();return(0,c.jsx)(n.I,{testid:"context-item-info-ad-subtitle",title:l,variant:t,semanticColor:a,uri:e.uri,clickUrl:u,onClick:()=>{m((0,d.q5)(r.c.ADVERTISER_SUBTITLE,r.V[o]))}})},l=o},46991:(e,t,a)=>{a.r(t),a.d(t,{ContextAdTitle:()=>o,default:()=>l});var i=a(41978),n=a(56345),s=a(84224),r=a(94788),d=a(47463),c=a(86070);const o=({item:e,surface:t,variant:a="titleSmall",semanticColor:o="textBase"})=>{const l=(0,i.wA)(),{title:u,url:m}=(0,s.iz)(e);return u?(0,c.jsx)(n.I,{title:u,variant:a,semanticColor:o,uri:e.uri,clickUrl:m,onClick:()=>{l((0,d.q5)(r.c.ADVERTISER_TITLE,r.V[t]))}}):null},l=o}}]);
//# sourceMappingURL=8546.js.map